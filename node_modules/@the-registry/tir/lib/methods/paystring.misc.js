"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isValidPrefix = exports.splitPayString = void 0;
function splitPayString(payString) {
    var lastDollarIndex = payString.lastIndexOf('$');
    var prefix = payString.slice(0, lastDollarIndex);
    var domain = payString.slice(lastDollarIndex + 1);
    // A PayString must have a user and a host, divided by a $ (e.g. alice$example.com)
    if (lastDollarIndex === -1 || prefix.length === 0 || domain.length === 0)
        return;
    return { prefix: prefix, domain: domain };
}
exports.splitPayString = splitPayString;
function isValidPrefix(prefix) {
    var urlSafePattern = /^[A-Za-z0-9\-._~:/?#[\]@!$&'()*+,;=]*$/;
    if (!urlSafePattern.test(prefix)) {
        return false;
    }
    return true;
}
exports.isValidPrefix = isValidPrefix;
